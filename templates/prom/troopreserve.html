<script language="JavaScript">

function checkAll (check){
    var path = document.reserve;
    for (var i=0;i<path.elements.length;i++) {
        e = path.elements[i];
        checkname = "maxall";
        if(check==2) checkname = "maxall2";
        if( (e.name!=checkname)  && (e.type=="checkbox") ) {
             e.checked = path.maxall.checked;
             if(check==2) e.checked = path.maxall2.checked;
        }
     }
}

</script>

<?php if($GLOBALS["msg"] != ''): ?>
<?php echo $GLOBALS["msg"]; ?>
<?php endif; ?>

Also see: <a href="?guide&amp;section=reserve&amp;era=<?php echo $GLOBALS["users"]["era"]; ?><?php echo $GLOBALS["authstr"]; ?>">Guide: Reserve</a><br>
<form method="post" action="?troopreserve<?php echo $GLOBALS["authstr"]; ?>" name="reserve">
<table class="inputtable">
<tr><td colspan="3"><a href="?troopreserve<?php echo $GLOBALS["authstr"]; ?>">Reserve Units</a></td>
    <td colspan="4" class="aright"><a href="?troopunreserve<?php echo $GLOBALS["authstr"]; ?>">Unreserve Units</a></td></tr>
<tr class="inputtable2"><th class="aleft">Unit</th>
    <th class="aright">Owned</th>
    <th class="aright">Reserved</th>
    <th class="aright">Can Reserve</th>
    <th class="aright">Reserve</th>
    <th class="aright">Max <input type="checkbox" name="maxall" onClick="checkAll(1)"></th>
</tr>

<?php foreach($GLOBALS["types"] as $loop_res): ?>
<tr><td><?php echo $loop_res["name"]; ?></td>
    <td class="aright"><?php echo gamefactor($loop_res["amt"]); ?></td>
    <td class="aright"><?php echo gamefactor($loop_res["reserved"]); ?></td>
    <td class="aright"><?php echo gamefactor($loop_res["canreserve"]); ?></td>
    <td class="aright"><input type="text" name="reserve[<?php echo $loop_res["type"]; ?>]" size="8" value="0"></td>
    <td class="aright"><input type="checkbox" name="max[<?php echo $loop_res["type"]; ?>]" value="<?php echo $loop_res["type"]; ?>"></td>
</tr>
<?php endforeach; ?>

<tr><td colspan="7" class="acenter"><input type="submit" name="do_reserve" value="Reserve Units"></td></tr>
</table>
</form>
